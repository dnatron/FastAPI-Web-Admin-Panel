{% extends "base.html" %}

{% block title %}Admin Dashboard - FastAPI Admin Panel{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-12 mb-4">
        <div class="card shadow-sm">
            <div class="card-body">
                <h1 class="card-title">
                    <i class="fas fa-tachometer-alt text-primary me-2"></i> Administrátorský Dashboard
                </h1>
                <p class="lead">Vítejte, <strong>{{ user.username }}</strong>!</p>
                <div class="alert alert-warning">
                    <i class="fas fa-shield-alt me-2"></i> Jste přihlášen jako administrátor s přístupem ke všem funkcím systému.
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <!-- Panel s přehledem uživatelů -->
    <div class="col-md-6 mb-4">
        <div class="card shadow-sm">
            <div class="card-header bg-primary text-white">
                <h5 class="card-title mb-0">
                    <i class="fas fa-users me-2"></i> Přehled uživatelů
                </h5>
            </div>
            <div class="card-body">
                <div class="d-grid">
                    <a href="/admin/users" class="btn btn-primary mb-3">
                        <i class="fas fa-users-cog me-2"></i> Správa uživatelů
                    </a>
                </div>
                <div class="row text-center">
                    <div class="col-6">
                        <div class="p-3 border rounded bg-light mb-3">
                            <h3 class="text-primary">{{ admin_count|default(1) }}</h3>
                            <p class="mb-0">Administrátoři</p>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="p-3 border rounded bg-light mb-3">
                            <h3 class="text-primary">{{ user_count|default(0) }}</h3>
                            <p class="mb-0">Uživatelé</p>
                        </div>
                    </div>
                </div>
                <p class="mt-3 mb-0">Poslední registrovaný uživatel: <strong>{{ latest_user|default('Není k dispozici') }}</strong></p>
            </div>
        </div>
    </div>
    
    <!-- Panel s informacemi o systému -->
    <div class="col-md-6 mb-4">
        <div class="card shadow-sm">
            <div class="card-header bg-primary text-white">
                <h5 class="card-title mb-0">
                    <i class="fas fa-server me-2"></i> Systémové informace
                </h5>
            </div>
            <div class="card-body">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Verze aplikace
                        <span class="badge bg-primary rounded-pill">1.0.0</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        FastAPI
                        <span class="badge bg-primary rounded-pill">0.104.1</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        SQLModel
                        <span class="badge bg-primary rounded-pill">0.0.8</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Databáze
                        <span class="badge bg-primary rounded-pill">SQLite</span>
                    </li>
                </ul>
                <div class="alert alert-info mt-3 mb-0">
                    <i class="fas fa-info-circle me-2"></i> Systém běží v normálním režimu.
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <!-- Panel s administrátorskými nástroji -->
    <div class="col-md-12">
        <div class="card shadow-sm">
            <div class="card-header bg-primary text-white">
                <h5 class="card-title mb-0">
                    <i class="fas fa-tools me-2"></i> Administrátorské nástroje
                </h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <div class="d-grid">
                            <button class="btn btn-outline-primary">
                                <i class="fas fa-database me-2"></i> Záloha databáze
                            </button>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="d-grid">
                            <button class="btn btn-outline-primary">
                                <i class="fas fa-sync-alt me-2"></i> Aktualizovat systém
                            </button>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="d-grid">
                            <button class="btn btn-outline-primary">
                                <i class="fas fa-file-alt me-2"></i> Prohlížet logy
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}